<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Vulnerabilidades - Lab Seguridad</title>
    <link rel="icon" href="assets/icons/favicon.ico">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/vulnerabilities.css">
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="dashboard.html" class="nav-brand">ğŸ›¡ï¸ Lab Seguridad</a>
            <div class="nav-menu">
                <a href="dashboard.html" class="nav-link">Dashboard</a>
                <a href="vulnerabilities.html" class="nav-link active">Vulnerabilidades</a>
                <a href="#" class="nav-link" id="logout-link">Cerrar SesiÃ³n</a>
            </div>
        </div>
    </nav>

    <div class="scroll-container">
        <!-- SECCIÃ“N 1: Resumen en tarjetas -->
        <section id="section-summary" class="scroll-section active">
            <div class="section-container">
                <h1 class="section-title">ğŸ“Š Resumen de Vulnerabilidades</h1>
                <p class="section-subtitle">VisiÃ³n general del estado de seguridad</p>
                
                <div class="cards-grid">
                    <div class="stat-card critical">
                        <div class="stat-icon">ğŸ”´</div>
                        <div class="stat-content">
                            <h3 class="stat-value" id="stat-total">-</h3>
                            <p class="stat-label">Total Vulnerabilidades</p>
                        </div>
                    </div>
                    
                    <div class="stat-card pending">
                        <div class="stat-icon">âš ï¸</div>
                        <div class="stat-content">
                            <h3 class="stat-value" id="stat-pending">-</h3>
                            <p class="stat-label">Pendientes</p>
                        </div>
                    </div>
                    
                    <div class="stat-card resolved">
                        <div class="stat-icon">âœ…</div>
                        <div class="stat-content">
                            <h3 class="stat-value" id="stat-resolved">-</h3>
                            <p class="stat-label">Resueltas</p>
                        </div>
                    </div>
                    
                    <div class="stat-card critical-count">
                        <div class="stat-icon">ğŸ’¥</div>
                        <div class="stat-content">
                            <h3 class="stat-value" id="stat-critical">-</h3>
                            <p class="stat-label">CrÃ­ticas</p>
                        </div>
                    </div>
                </div>
                
                <div class="scroll-indicator">
                    <span>Desliza hacia abajo</span>
                    <div class="arrow-down">â†“</div>
                </div>
            </div>
        </section>

        <!-- SECCIÃ“N 2: GrÃ¡fico circular -->
        <section id="section-chart" class="scroll-section">
            <div class="section-container">
                <h2 class="section-title">ğŸ“ˆ Progreso de ResoluciÃ³n</h2>
                <p class="section-subtitle">Vulnerabilidades resueltas vs pendientes</p>
                
                <div class="chart-container">
                    <canvas id="progressChart"></canvas>
                </div>
                
                <div class="chart-legend">
                    <div class="legend-item">
                        <span class="legend-color pending-color"></span>
                        <span class="legend-text">Pendientes</span>
                        <span class="legend-value" id="legend-pending">-</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color resolved-color"></span>
                        <span class="legend-text">Resueltas</span>
                        <span class="legend-value" id="legend-resolved">-</span>
                    </div>
                </div>
                
                <div class="scroll-indicator">
                    <span>ContinÃºa para ver pendientes</span>
                    <div class="arrow-down">â†“</div>
                </div>
            </div>
        </section>

        <!-- SECCIÃ“N 3: Tabla de pendientes -->
        <section id="section-pending" class="scroll-section">
            <div class="section-container wide">
                <h2 class="section-title">âš ï¸ Vulnerabilidades Pendientes</h2>
                <p class="section-subtitle">Requieren atenciÃ³n inmediata</p>
                
                <div class="table-container">
                    <table class="vulnerabilities-table">
                        <thead>
                            <tr>
                                <th>CVE</th>
                                <th>TÃ­tulo</th>
                                <th>Severidad</th>
                                <th>CVSS</th>
                                <th>CategorÃ­a OWASP</th>
                                <th>Detectada</th>
                                <th>AcciÃ³n</th>
                            </tr>
                        </thead>
                        <tbody id="pending-table-body">
                            <tr>
                                <td colspan="7" class="loading">Cargando vulnerabilidades...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="scroll-indicator">
                    <span>Ver vulnerabilidades resueltas</span>
                    <div class="arrow-down">â†“</div>
                </div>
            </div>
        </section>

        <!-- SECCIÃ“N 4: Tabla de resueltas -->
        <section id="section-resolved" class="scroll-section">
            <div class="section-container wide">
                <h2 class="section-title">âœ… Vulnerabilidades Resueltas</h2>
                <p class="section-subtitle">Historial de resoluciones</p>
                
                <div class="table-container">
                    <table class="vulnerabilities-table">
                        <thead>
                            <tr>
                                <th>CVE</th>
                                <th>TÃ­tulo</th>
                                <th>Severidad</th>
                                <th>CVSS</th>
                                <th>CategorÃ­a OWASP</th>
                                <th>Detectada</th>
                                <th>Resuelta</th>
                            </tr>
                        </thead>
                        <tbody id="resolved-table-body">
                            <tr>
                                <td colspan="7" class="loading">Cargando vulnerabilidades resueltas...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="back-to-top">
                    <button id="btn-back-to-top">â†‘ Volver arriba</button>
                </div>
            </div>
        </section>
    </div>

    <!-- Modal de confirmaciÃ³n -->
    <div id="confirm-modal" class="modal">
        <div class="modal-content">
            <h3>Confirmar ResoluciÃ³n</h3>
            <p id="modal-message"></p>
            <div class="modal-buttons">
                <button id="btn-confirm-yes" class="btn btn-primary">SÃ­, resolver</button>
                <button id="btn-confirm-no" class="btn btn-secondary">No, cancelar</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/vendor/chart.min.js"></script>
    <script src="js/vulnerabilities.js"></script>
</body>
</html>

